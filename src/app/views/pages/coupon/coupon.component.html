<div class="container mt-4">
  <div class="card shadow-lg">
    <div class="card-header bg-primary text-white">
      <h4 class="mb-0">{{ isEditMode ? 'Update Coupon' : 'Create Coupon' }}</h4>
    </div>
    <div class="card-body">
      <form [formGroup]="couponForm" (ngSubmit)="onSubmit()">
        <!-- Title -->
        <div class="mb-3">
          <label for="title" class="form-label">Title</label>
          <input 
            type="text" 
            id="title" 
            class="form-control" 
            formControlName="title" 
            placeholder="Enter coupon title"
            [ngClass]="{ 'is-invalid': isFieldInvalid('title') }"
          />
          <div *ngIf="isFieldInvalid('title')" class="invalid-feedback">
            {{ getErrorMessage('title') }}
          </div>
        </div>

        <!-- Coupon Name -->
        <div class="mb-3">
          <label for="couponName" class="form-label">Coupon Name</label>
          <input 
            type="text" 
            id="couponName" 
            class="form-control" 
            formControlName="couponName" 
            placeholder="Enter coupon name"
            [ngClass]="{ 'is-invalid': isFieldInvalid('couponName') }"
          />
          <div *ngIf="isFieldInvalid('couponName')" class="invalid-feedback">
            {{ getErrorMessage('couponName') }}
          </div>
        </div>

        <!-- Description -->
        <div class="mb-3">
          <label for="description" class="form-label">Description</label>
          <textarea 
            id="description" 
            class="form-control" 
            formControlName="description" 
            placeholder="Enter coupon description"
            rows="3"
            [ngClass]="{ 'is-invalid': isFieldInvalid('description') }"
          ></textarea>
          <div *ngIf="isFieldInvalid('description')" class="invalid-feedback">
            {{ getErrorMessage('description') }}
          </div>
        </div>

        <!-- Expiry Date -->
        <div class="mb-3">
          <label for="expiryDate" class="form-label">Expiry Date</label>
          <input 
            type="date" 
            id="expiryDate" 
            class="form-control" 
            formControlName="expiryDate"
            [ngClass]="{ 'is-invalid': isFieldInvalid('expiryDate') }"
          />
          <div *ngIf="isFieldInvalid('expiryDate')" class="invalid-feedback">
            {{ getErrorMessage('expiryDate') }}
          </div>
        </div>

        <!-- Image Upload -->
        <div class="mb-3">
          <label for="image" class="form-label">Coupon Image</label>
          <input 
            type="file" 
            id="image" 
            class="form-control"
            (change)="onFileSelected($event)"
            accept="image/*"
            [ngClass]="{ 'is-invalid': isFieldInvalid('image') }"
          />
          <div *ngIf="isFieldInvalid('image')" class="invalid-feedback">
            {{ getErrorMessage('image') }}
          </div>
        </div>

        <!-- Submit Button -->
        <div class="d-grid">
          <button type="submit" class="btn btn-primary" [disabled]="couponForm.invalid">
            {{ isEditMode ? 'Update Coupon' : 'Create Coupon' }}
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
